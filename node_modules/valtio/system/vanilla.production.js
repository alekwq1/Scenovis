System.register(["proxy-compare"],function(H){"use strict";var L,m;return{setters:[function(h){L=h.getUntracked,m=h.markToTrack}],execute:function(){H({getHandler:K,getVersion:_,proxy:N,ref:I,snapshot:C,subscribe:k});const h=Symbol(),f=Symbol(),O=Symbol(),A=Symbol(),S=Symbol(),p=Symbol(),w=new WeakSet;function I(t){return w.add(t),t}const b=t=>typeof t=="object"&&t!==null,U=t=>b(t)&&!w.has(t)&&(Array.isArray(t)||!(Symbol.iterator in t))&&!(t instanceof WeakMap)&&!(t instanceof WeakSet)&&!(t instanceof Error)&&!(t instanceof Number)&&!(t instanceof Date)&&!(t instanceof String)&&!(t instanceof RegExp)&&!(t instanceof ArrayBuffer),j=new WeakMap;let T=1;const M=new WeakMap;function N(t={}){if(!b(t))throw new Error("object required");const P=j.get(t);if(P)return P;let a=T;const d=new Set,l=(r,e=++T)=>{a!==e&&(a=e,d.forEach(n=>n(r,e)))},u=new Map,g=r=>{let e=u.get(r);return e||(e=(n,o)=>{const c=[...n];c[1]=[r,...c[1]],l(c,o)},u.set(r,e)),e},V=r=>{const e=u.get(r);return u.delete(r),e},q=(r,e)=>{const n=M.get(e);if((n==null?void 0:n[0])===a)return n[1];const o=Array.isArray(r)?[]:Object.create(Object.getPrototypeOf(r));return m(o,!0),M.set(e,[a,o]),Reflect.ownKeys(r).forEach(c=>{const s=Reflect.get(r,c,e);if(w.has(s))m(s,!1),o[c]=s;else if(s instanceof Promise)if(S in s)o[c]=s[S];else{const R=s[p]||s;Object.defineProperty(o,c,{get(){if(S in s)return s[S];throw R}})}else s!=null&&s[f]?o[c]=s[O]:o[c]=s}),Object.freeze(o),o},W=Array.isArray(t)?[]:Object.create(Object.getPrototypeOf(t)),D={get(r,e,n){return e===h?a:e===f?d:e===O?q(r,n):e===A?D:Reflect.get(r,e,n)},deleteProperty(r,e){const n=Reflect.get(r,e),o=n==null?void 0:n[f];o&&o.delete(V(e));const c=Reflect.deleteProperty(r,e);return c&&l(["delete",[e],n]),c},is:Object.is,canProxy:U,set(r,e,n,o){var c;const s=Reflect.get(r,e,o);if(this.is(s,n))return!0;const R=s==null?void 0:s[f];R&&R.delete(V(e)),b(n)&&(n=L(n)||n);let i;return(c=Object.getOwnPropertyDescriptor(r,e))!=null&&c.set?i=n:n instanceof Promise?i=n.then(y=>(i[S]=y,l(["resolve",[e],y]),y)).catch(y=>{i[p]=y,l(["reject",[e],y])}):n!=null&&n[f]?(i=n,i[f].add(g(e))):this.canProxy(n)?(i=N(n),i[f].add(g(e))):i=n,Reflect.set(r,e,i,o),l(["set",[e],n,s]),!0}},E=new Proxy(W,D);return j.set(t,E),Reflect.ownKeys(t).forEach(r=>{const e=Object.getOwnPropertyDescriptor(t,r);e.get||e.set?Object.defineProperty(W,r,e):E[r]=t[r]}),E}function _(t){return b(t)?t[h]:void 0}function k(t,P,a){let d;const l=[],u=g=>{if(l.push(g),a){P(l.splice(0));return}d||(d=Promise.resolve().then(()=>{d=void 0,P(l.splice(0))}))};return t[f].add(u),()=>{t[f].delete(u)}}function C(t){return t[O]}function K(t){return t[A]}}}});
